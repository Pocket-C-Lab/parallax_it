<!DOCTYPE html>
<html lang="en" ng-app="app-main">
<head>
  	<meta charset="utf-8">
	<meta name="viewport" content="width = device-width,
								   initial-scale = 1">
	<meta property="og:title" content="2D Draws">
	<meta property="og:url" content="">
	<meta property="og:description" content="Make vectors and drawables.">
	<meta property="og:image" content="">

	<title>Parallax It</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<link rel="stylesheet" type="text/css" href="sidebar.css">
	<link rel="stylesheet" type="text/css" href="widgets.css">
	<!-- <link rel="stylesheet" type="text/css" href="context.js/context-menu.min.css"> -->
	<!-- If you are using any of the p5 funtions that affect the whole of page or rather anything
		 other than the canvas; DON'T, just use any angularjs features or make something of your own.
		 If you end up ignoring my advice and still use p.keyTyped or something then I'm warning you,
		 the path ahead is a very painful one, so if you are a sucker for pain like a psycho friend
		 of mine then sure go ahead, but not in this project! 
	-->
	<script type="text/javascript" src="libs/angular-1.8.2/angular.js"></script>
	<script type="text/javascript" src="libs/p5/p5.min.js"></script>
	<script type="text/javascript" src="libs/p5/p5.gif.js/p5.gif.min.js"></script>
	<script type="text/javascript" src="libs/simplebar/simplebar.js"></script>
	<script type="text/javascript" src="gif.js"></script>
	<link rel="stylesheet" type="text/css" href="libs/simplebar/simplebar.css">
	<!-- <script type="text/javascript" src="context.js/context-menu.min.js"></script> -->
	<script type="text/javascript" src="scripts/app.js"></script>
	<script type="text/javascript" src="scripts/ng-context-menu.js"></script>
</head>
<body ng-controller="side-nav" ng-init="leftMenuVisibility='';rightMenuVisibility=''">
	<header>
		<p class="icon" ng-click="leftMenuVisibility==''?leftMenuVisibility='hidden':leftMenuVisibility=''">A</p>
		<p id="title">Parallax It</p>
		<p class="icon" ng-click="rightMenuVisibility==''?rightMenuVisibility='hidden':rightMenuVisibility=''">@</p>
	</header>

	<div style="height: 100vh; background-color: #1c1d21"> <!-- #e1e2e1 -->

		<!-- The Left sidebar 1 -->
		<div class="sidebar" ng-show="leftMenuVisibility">
		  <div ng-repeat="option in [{n:'Option 1', h:'#option_1', i:'C'},
                                 {n:'Option 2', h:'#option_2', i:'D'},
                                 {n:'Option 3', h:'#option_3', i:'H'}, 
                                 {n:'Option 4', h:'#option_4', i:'G'}]
		  					      track by $index">
		  	<a href="{{option.h}}" ng-click="o_oO(option.i)">
		  		<p class="icon" style="color: grey;">{{option.i}}</p><p>{{option.n}}</p>
		  	</a>
		  </div>
		</div>
		<!-- End of Left sidebar 1 -->

		<!-- The Left sidebar 2 -->
		<div class="sidebar"
			ng-hide="leftMenuVisibility" ng-init="option = [{n:'Import', h:'#import',      i:'H', v:''},
															{n:'Layers', h:'#new_file',    i:'C', v:''},
															{n:'Speed',  h:'#open_file',   i:'D', v:''},
															{n:'Save',   h:'#save_file',   i:'E', v:''},
															{n:'Export', h:'#import_file', i:'G', v:''}]">
				
			<!-- Import -->
			<a class="section" style="padding-left: 10px;color: grey;" ng-click="option[0].v==''?option[0].v='hidden':option[0].v=''">
				<p>{{option[0].n}}</p>
			</a>
			<div style="margin: 0; display: inline-flex; width: 100%;" ng-hide="option[0].v">
				<button id="import" style="margin-left: 5px;" ng-click="o_oF(option[0].i);draggable('layers');">+ click to add an image</button>
			</div>
			<!-- Layers -->
			<a class="section" style="padding-left: 10px;color: grey;" ng-click="option[1].v==''?option[1].v='hidden':option[1].v='';">
				<p>{{option[1].n}}</p>
			</a>
			<div id="layers" ng-hide="option[1].v" style="max-height: 300px; overflow-y: auto;">
				<div class="layer draggable" ng-repeat="image in images">
					<div style="display: flex; justify-content: space-between; align-items: center;">
						<img src="{{image.img.elt.currentSrc}}" width="50px" height="50px" alt="img" />
						<input type="text" ng-model="image.name" style="width: 90px; background-color: #f9fdb3; border: none; border-radius: 10px;"/>
						<input type="checkbox" style="justify-self: flex-end;" checked ng-click="Log(image.visible); image.visible = !image.visible;"/>
					</div>
					<input type="range" ng-model="image.speedModifier" min="0" max="10" value="1" style="width: 90%; margin: 5%;" id="myRange" />
				</div>
			</div>
			<!-- Speed -->
			<a class="section" style="padding-left: 10px;color: grey;" ng-click="option[2].v==''?option[2].v='hidden':option[2].v='';">
				<p>{{option[2].n}}</p>
			</a>
			<div>
				<div style="margin: 0; text-align: center;" ng-hide="option[2].v">
					<div style="display: flex; justify-content: space-between;">
						<input type="range" min="0" max="10" value="50" class="slider" id="myRange" />
					</div>
				</div>
				<div style="margin: 0; display: inline-flex; width: 100%;" ng-hide="option[2].v">
					<button ng-click="animationPlay = true;" style="margin-left: 5px;">Start</button>
					<button  ng-click="animationPlay = false;">Stop</button>
				</div>
			</div>
			<!-- Save -->
			<a class="section" style="padding-left: 10px;color: grey;" ng-click="option[3].v==''?option[3].v='hidden':option[3].v='';">
				<p>{{option[3].n}}</p>
			</a>
			<div style="margin: 0; display: inline-flex; width: 100%;" ng-hide="option[3].v">
				<button ng-click="printImages()" style="margin-left: 5px;">Save</button>
				<button>Cancel</button>
			</div>
			<!-- Export -->
			<a class="section" style="padding-left: 10px;color: grey;" ng-click="option[4].v==''?option[4].v='hidden':option[4].v='';">
				<p>{{option[4].n}}</p>
			</a>
			<div style="margin: 0; display: inline-flex; width: 100%;" ng-hide="option[4].v">
				<button ng-click="printImages()" style="margin-left: 5px;">Export Gif</button>
				<button>Export MP4</button>
			</div>
			<div style="margin: 0; display: inline-flex; width: 100%;" >
				<button ng-click="saveVid();" style="margin-left: 5px;">Start Recording</button>
			</div>

		</div>
		<!-- End of Left sidebar 2 -->

		<div class="content">
			<div id="canvas"/>
			<script type="text/javascript" src="scripts/PixelRec.js"></script>
			<script type="text/javascript" src="scripts/canvas.js"></script>
		</div>

		<!-- Start of Right sidebar 1 -->
		<div class="sidebar" style="right: 0;" ng-hide="rightMenuVisibility">
			<div class="section" ng-click="tools_visibility()">
		  		<p style="color: grey;">Tools</p><p>&#8681;</p>
		  	</div>
			<div style="margin: 0; text-align: center;" ng-hide="toolsVisibility">
				<ul style="display: inline; padding-left: 0;" ng-repeat="tool in tools">
					<li id="tools" 
						context-menu class="icon_sm" 
						ng-mousedown="selectTool($event, tool)"
						data-target="myMenu"
						ng-class="{ 'highlight': highlight, 'expanded' : expanded }">{{tool}}</li>
				</ul>
			</div>
			<div class="section" ng-click="settings_visibility()">
		  		<p style="color: grey;">Settings</p><p>&#8681;</p>
		  	</div>
		  	<div class="setting" ng-hide="settingsVisibility">
		  		<ul ng-repeat="setting in settings" style="margin: 0px; padding: 0px;">
					<li style="display: flex; justify-content: space-between; width: 100%; height: 40px;" class="setting-li" ng-click="">
						<p style="display: inline; color: #e1e2e4;">{{setting.name}}<p>
						<input style="display: inline;" type="{{setting.type}}" min="5" max="25" ng-model="setting.value"/>
					</li>
				</ul>
		  	</div>
		</div>
		<!-- End of Right sidebar 2 -->
	</div>

	<!-- Start of context menu -->
	<div class="dropdown" id="myMenu">
		<ul class="dropdown-menu"
		    	role="menu" aria-labelledby="dropdownMenu1">
			<li ng-repeat="tool_option in tool_options[selected_tool]" role="presentation">
			  	<a class="pointer" role="menuitem" tabindex="-1" ng-click="highlight = true">{{tool_option}}</a>
			</li>
		</ul>
	</div>
	<!-- End of context menu -->
	<script type="text/javascript" src="scripts/draggable.js" ></script>
</body>
</html>